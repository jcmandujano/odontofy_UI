<ngx-spinner type="ball-newton-cradle"></ngx-spinner>
<main>
    <section class="login_row">
        <section class="login_form_column">
            <section class="login_form_logo">
                <img src="/img/logo.png" (click)="gotoHome()" alt="">
            </section>
            <div class="login_form_container center_container">
                <form [formGroup]="resetPasswordForm">
                    <div class="login_form_container_welcome">
                        <h1 class="login_form_title">Restablecer contraseña</h1>
                        <p class="subtitle">Si deseas restablecer tu contraseña, ingresa tu nueva contraseña a
                            continuación.</p>
                    </div>
                    <div class="login_form_container_form">
                        <mat-form-field class="login_form_control" appearance="outline">
                            <mat-icon class="prefix_form_color" matPrefix> password</mat-icon>
                            <mat-label>Nueva contraseña</mat-label>
                            <input type="password" matInput formControlName="newPassword">
                            @if (resetPasswordForm.get('newPassword')?.hasError('required')) {
                            <mat-error>La contraseña es requerida</mat-error>
                            }
                        </mat-form-field>

                        <mat-form-field class="login_form_control" appearance="outline">
                            <mat-icon class="prefix_form_color" matPrefix> password</mat-icon>
                            <mat-label>Confirmar contraseña</mat-label>
                            <input type="password" matInput formControlName="confirmPassword">
                            @if (resetPasswordForm.get('confirmPassword')?.hasError('required')) {
                            <mat-error>La contraseña es requerida</mat-error>
                            }
                            @if (resetPasswordForm.get('confirmPassword')?.hasError('passwordMismatch') &&
                            resetPasswordForm.get('confirmPassword')?.touched) {
                            <mat-error>Las contraseñas no coinciden</mat-error>
                            }

                        </mat-form-field>
                        <br>
                    </div>
                    <div class="login_form_container_actions">
                        <button class="button button--confirm" (click)="resetPassword()">Enviar</button><br>
                        <p class="options_text" routerLink="/login">Accede</p>
                        <p class="options_text" routerLink="/register">Registrate</p>
                    </div>
                    <div class="login_form_containe_legal">
                        <div class="row">
                            <div class="col-6">
                                <p class="legal_text" (click)="openTermsConditionsDialog()">Términos y condiciones</p>
                            </div>
                            <div class="col-6">
                                <p class="legal_text" (click)="openPrivacyTermsDialog()">Aviso de privacidad</p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </section>
        <section class="extra_info_column">
        </section>
    </section>
</main>